{% extends 'UserPage/Admin/index.html.twig' %} {% block title %}Firearm &
Equipment Dashboard{% endblock %} {% block admin_content %}
<div class="space-y-8">
    <!-- Top Summary Widgets -->
    <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        {% set widgets = [ { title: 'Total Firearms', value: '1,234', note: 'In
        stock' }, { title: 'Checked Out', value: '42', note: 'Currently issued'
        }, { title: 'Return', value: '5', note: 'For Maintenance' }, { title:
        'Pending Requests', value: '7', note: 'Awaiting approval' }, ] %} {% for
        w in widgets %}
        <div
            class="bg-white rounded-xl shadow p-4 flex flex-col justify-between"
        >
            <div>
                <div class="text-xs text-gray-500">{{ w.title }}</div>
                <div class="text-2xl font-bold">{{ w.value }}</div>
            </div>
            <div class="text-xs text-gray-400 mt-1">{{ w.note }}</div>
        </div>
        {% endfor %}
    </section>

    <!-- Charts Section -->
    <section
        x-data="dashboardData()"
        x-init="loadData()"
        class="grid grid-cols-1 lg:grid-cols-2 gap-6"
    >
        <div class="bg-white rounded-xl shadow p-4 h-100">
            <div class="flex justify-between items-center mb-2">
                <h2 class="font-semibold">Issuance Trends</h2>
                <span class="text-xs text-gray-400">Last 4 weeks</span>
            </div>
            <canvas id="issuanceChart" class="p-10 w-full h-full"></canvas>
        </div>

        <div class="bg-white rounded-xl shadow p-4 h-100">
            <div class="flex justify-between items-center mb-2">
                <h2 class="font-semibold">Category Distribution</h2>
                <span class="text-xs text-gray-400">Asset Categories</span>
            </div>
            <canvas id="categoryChart" class="p-10 w-full h-full"></canvas>
        </div>
    </section>
</div>
{% endblock %} 
{% block javascripts %}
{{ encore_entry_script_tags("app") }}
<script>
    document.addEventListener("DOMContentLoaded", () => {
        initDashboardCharts();
    });
</script>
{% endblock %}
